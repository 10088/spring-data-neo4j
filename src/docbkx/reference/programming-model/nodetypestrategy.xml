<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN" "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd">
<section>
    <title>Reified types for entities</title>
    <para>
        There are several ways to represent the Java type hierarchy of the data model in the graph. In general for all
        node and relationship entities type information is needed to perform certain repository operations. Some of
        this type information is saved in the graph database.
    </para>
    <para>
        Implementations of <code>NodeTypeStrategy</code> take care of persisting this information on entity instance
        creation. They also provide the repository methods that use this type information to perform their operations
        like findAll, count, etc.
    </para>
    <para>
        There are three available implementations to choose from.
        <itemizedlist>
            <listitem>
                <para><code>SubReferenceNodeTypeStrategy</code></para>
                <para>
                    Stores entity types in a tree in the graph representing the type hierarchy. Each entity
                    has a INSTANCE_OF relationship to a type node representing that entity's type. The type may or
                    may not have a SUBCLASS_OF relationship to another type node.
                </para>
            </listitem>
            <listitem>
                <para><code>IndexingNodeTypeStrategy</code></para>
                <para>
                    Stores entity types in the integrated index. Each entity node gets indexed with its type and
                    any supertypes that are also <code>@NodeEntity</code>-annotated. The special index used for this
                    is called <code>__types__</code>. Additionally, in order to get the type of an entity node, each
                    node has a property <code>__type__</code> with the type of that entity.
                </para>
            </listitem>
            <listitem>
                <para><code>NoopNodeTypeStrategy</code></para>
                <para>
                    Does not store any type information, and does hence not support finding by type, counting by type,
                    or retrieving the type of any entity.
                </para>
            </listitem>
        </itemizedlist>
    </para>
    <para>
        The default implementation is <code>SubReferenceNodeTypeStrategy</code>.
    </para>
</section>